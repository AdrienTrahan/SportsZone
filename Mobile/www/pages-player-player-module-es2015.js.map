{"version":3,"sources":["./src/app/pages/player/player.page.html","./src/app/functions/call.ts","./src/app/functions/serializer.ts","./src/app/pages/player/player-routing.module.ts","./src/app/pages/player/player.module.ts","./src/app/pages/player/player.page.scss","./src/app/pages/player/player.page.ts"],"names":[],"mappings":"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","file":"pages-player-player-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"navbar-theme\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button color=\\\"light\\\" defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"light\\\">{{playerInfo.name}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [attr.invisible]=\\\"this.invisible\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-segment color=\\\"navbar-theme\\\" [(ngModel)]=\\\"state\\\">\\n    <ion-segment-button value=\\\"Teams\\\">\\n      <ion-label>{{\\\"PLAYERS.0\\\" | translate}}</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"Upcomming\\\">\\n      <ion-label>{{\\\"PLAYERS.1\\\" | translate}}</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>  \\n  <div class=\\\"wrapper\\\">\\n    <div class=\\\"cardContainer\\\" [@enterLeft] *ngIf=\\\"this.state=='Teams'\\\">\\n      <ion-card class=\\\"clickable\\\" *ngFor=\\\"let team of teams;let i = index\\\">\\n        <ion-item lines=\\\"none\\\" (click)=\\\"selectTeam(i)\\\">\\n         <app-team [name]=\\\"team.name\\\" [img]=\\\"team.image\\\" [category]=\\\"team.category\\\"></app-team>\\n        </ion-item>\\n      </ion-card>\\n    </div>\\n    <div class=\\\"cardContainer\\\" [@enterRight] *ngIf=\\\"this.state=='Upcomming' && loaded\\\">\\n      <app-upcomming (presenceChanged)=\\\"changePresence($event)\\\" [index]=\\\"i\\\" (selected)=\\\"selectEvent($event)\\\" *ngFor=\\\"let event of (this.events); let i = index\\\" [teamId]=\\\"event.team\\\" [playerId]=\\\"this.params.playerId\\\" [id]=\\\"event.id\\\" [presence]=\\\"event.presence\\\" [place]=\\\"event.places\\\" [late]=\\\"event.late\\\" [name]=\\\"event.name\\\" [date]=\\\"event.date + '/' + event.month + '/' + event.year + '!' + ((event.startTime - event.startTime % 60) / 60) + ':' + ('0' + event.startTime % 60).slice(-2)\\\"></app-upcomming>\\n      <ion-infinite-scroll *ngIf=\\\"this.state=='Upcomming' && loaded\\\" threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\"\\n          loadingText=\\\"Loading more data...\\\">\\n        </ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n    </div>\\n    <div class=\\\"joinButton clickable\\\"  (click)=\\\"joinTeam()\\\">\\n      <img src=\\\"../../../assets/qr.png\\\" alt=\\\"\\\">\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { HttpClient } from '@angular/common/http';\nimport { serialize } from './serializer';\nimport { get, remove } from './storage';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\n\n\nexport async function call(url, object): Promise<string>{\n    let response = await new Promise((resolve) => { \n        let request = new XMLHttpRequest();\n        request.onreadystatechange = function() {\n            if (request.readyState == 4 && request.status == 200){\n                resolve(request.responseText);\n            }else{\n                setTimeout(() => {\n                    resolve(\"error\")\n                }, 1000)\n            }\n        }\n        let complete = url;\n        if (object != {}){\n            complete += \"?\" + serialize(object);\n        }\n\n        request.open(\"GET\", complete);\n        if (object.token){\n            console.log(object.token);\n            \n            request.setRequestHeader(\"Auth\", object.token);\n            delete object.token;\n        }\n        request.send();\n    });\n    return response as string;\n}\nexport async function post(url, object): Promise<string>{\n    let response = await new Promise((resolve) => { \n        let request = new XMLHttpRequest();\n        request.onreadystatechange = function() {\n            if (request.readyState == 4 && request.status == 200){\n                resolve(request.responseText);\n            }\n        }\n        request.open(\"POST\", url + \"?\" + serialize(object));\n\n        if (object.token){\n            request.setRequestHeader(\"auth\", object.token);\n            delete object.token;\n        }\n        request.send(null);\n    });\n    return response as string;\n}\n    \nexport async function upload(url, imagePath, object, http, transfer): Promise<string>{\n    let response = await new Promise(async (resolve) => { \n        if (imagePath == \"\"){\n            let result = await post(url, object);\n            resolve(result)\n        }else{\n            const fileTransfer: FileTransferObject = transfer.create();\n            const uploadOpts: FileUploadOptions = {\n                fileKey: 'image',\n                httpMethod:'POST',\n                fileName: new Date().getTime() + Math.random() + Math.random() + \".jpg\",\n                chunkedMode: false,\n            };\n            if (object.token){\n                uploadOpts.headers = {auth: object.token};\n                delete object.token;\n            }\n            fileTransfer.upload(imagePath, url + \"?\" + serialize(object), uploadOpts).then((data) => {\n                if (data.response){\n                    resolve(data.response);\n                }\n            }, (err) => {\n                resolve(err);\n            });\n        }\n    });\n    return response as string;\n}\n\nexport async function logout(){\n    let token = await get(\"token\");\n    await call(\"http://192.168.2.251:3000/api/logout\", {token: token});\n    await remove(\"token\");\n    await remove(\"role\");\n}","export function serialize(obj){\n    var str = \"\";\n    for (var key in obj) {\n        if (str != \"\") {\n            str += \"&\";\n        }\n        str += key + \"=\" + encodeURIComponent(obj[key]);\n    }\n    return str;\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlayerPage } from './player.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlayerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlayerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlayerPageRoutingModule } from './player-routing.module';\n\nimport { PlayerPage } from './player.page';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from '../home/home.page';\nimport { TeamComponent, TeamModule } from '../../components/team/team.component';\nimport { UpcommingComponent, UpcommingModule } from 'src/app/components/upcomming/upcomming.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlayerPageRoutingModule,\n    TranslateModule,\n    UpcommingModule,\n    TeamModule\n  ],\n  declarations: [PlayerPage]\n})\nexport class PlayerPageModule {}\n","export default \".cardContainer {\\n  position: absolute;\\n  top: 0px;\\n  width: 100%;\\n  height: 100%;\\n  max-height: 100%;\\n}\\n\\n.wrapper {\\n  position: relative;\\n  width: 100%;\\n  flex-grow: 1;\\n  background-color: red;\\n}\\n\\nion-content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\nh3 {\\n  box-shadow: rgba(0, 0, 0, 0.12) 0px 4px 16px;\\n}\\n\\nion-item {\\n  border-radius: 10px;\\n  overflow: hidden;\\n}\\n\\n.nothingButton {\\n  margin: 20px 20px 20px 20px !important;\\n}\\n\\nhtml, body, ion-app, div.nav-decor, ion-content, app-root, #background-content {\\n  background-color: transparent !important;\\n}\\n\\n.clickable:active {\\n  -webkit-filter: brightness(0.95);\\n          filter: brightness(0.95);\\n}\\n\\n.joinButton {\\n  position: fixed;\\n  bottom: 10px;\\n  right: 10px;\\n  margin: 20px 20px 20px 20px !important;\\n  color: white;\\n  font-size: 55px;\\n  border-radius: 50%;\\n  width: 70px;\\n  height: 70px;\\n  background-color: #0088ff;\\n  text-align: center;\\n  padding: 12px 0px 0px 0px;\\n  line-height: 40px;\\n  box-shadow: 10px 7px 30px -16px rgba(0, 0, 0, 0.75);\\n}\\n\\n.joinButton img {\\n  width: 30px;\\n  -webkit-filter: invert(1);\\n          filter: invert(1);\\n  margin-left: -1px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZHJpZW50cmFoYW4vRGVza3RvcC9UZWFtY2xhcC9UZWFtQ2xhcC9zcmMvYXBwL3BhZ2VzL3BsYXllci9wbGF5ZXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9wbGF5ZXIvcGxheWVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURDQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtBQ0VKOztBREFBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0FDR0o7O0FEREE7RUFDSSw0Q0FBQTtBQ0lKOztBREZBO0VBQ0ksbUJBQUE7RUFDQSxnQkFBQTtBQ0tKOztBREhBO0VBQ0ksc0NBQUE7QUNNSjs7QURKQTtFQUFpRix3Q0FBQTtBQ1FqRjs7QUROQTtFQUNJLGdDQUFBO1VBQUEsd0JBQUE7QUNTSjs7QURQQTtFQUNJLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHNDQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtREFBQTtBQ1VKOztBRFJBO0VBQ0ksV0FBQTtFQUNBLHlCQUFBO1VBQUEsaUJBQUE7RUFDQSxpQkFBQTtBQ1dKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGxheWVyL3BsYXllci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZENvbnRhaW5lcntcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG59XG4ud3JhcHBlcntcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cbmlvbi1jb250ZW50e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbmgze1xuICAgIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4xMikgMHB4IDRweCAxNnB4O1xufVxuaW9uLWl0ZW0ge1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5ub3RoaW5nQnV0dG9ue1xuICAgIG1hcmdpbjogMjBweCAyMHB4IDIwcHggMjBweCAhaW1wb3J0YW50O1xufVxuaHRtbCwgYm9keSwgaW9uLWFwcCwgZGl2Lm5hdi1kZWNvciwgaW9uLWNvbnRlbnQsIGFwcC1yb290LCAjYmFja2dyb3VuZC1jb250ZW50IHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsgfVxuXG4uY2xpY2thYmxlOmFjdGl2ZXtcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMC45NSk7XG59XG4uam9pbkJ1dHRvbntcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAxMHB4O1xuICAgIHJpZ2h0OiAxMHB4O1xuICAgIG1hcmdpbjogMjBweCAyMHB4IDIwcHggMjBweCAhaW1wb3J0YW50O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBmb250LXNpemU6IDU1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHdpZHRoOiA3MHB4O1xuICAgIGhlaWdodDogNzBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4OGZmO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAxMnB4IDBweCAwcHggMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xuICAgIGJveC1zaGFkb3c6IDEwcHggN3B4IDMwcHggLTE2cHggcmdiYSgwLDAsMCwwLjc1KTtcbn1cbi5qb2luQnV0dG9uIGltZ3tcbiAgICB3aWR0aDogMzBweDtcbiAgICBmaWx0ZXI6IGludmVydCgxLjApO1xuICAgIG1hcmdpbi1sZWZ0OiAtMXB4O1xufSIsIi5jYXJkQ29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgbWF4LWhlaWdodDogMTAwJTtcbn1cblxuLndyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBmbGV4LWdyb3c6IDE7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cblxuaW9uLWNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG5oMyB7XG4gIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4xMikgMHB4IDRweCAxNnB4O1xufVxuXG5pb24taXRlbSB7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5ub3RoaW5nQnV0dG9uIHtcbiAgbWFyZ2luOiAyMHB4IDIwcHggMjBweCAyMHB4ICFpbXBvcnRhbnQ7XG59XG5cbmh0bWwsIGJvZHksIGlvbi1hcHAsIGRpdi5uYXYtZGVjb3IsIGlvbi1jb250ZW50LCBhcHAtcm9vdCwgI2JhY2tncm91bmQtY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG59XG5cbi5jbGlja2FibGU6YWN0aXZlIHtcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDAuOTUpO1xufVxuXG4uam9pbkJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAxMHB4O1xuICByaWdodDogMTBweDtcbiAgbWFyZ2luOiAyMHB4IDIwcHggMjBweCAyMHB4ICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiA1NXB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiA3MHB4O1xuICBoZWlnaHQ6IDcwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDg4ZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMTJweCAwcHggMHB4IDBweDtcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gIGJveC1zaGFkb3c6IDEwcHggN3B4IDMwcHggLTE2cHggcmdiYSgwLCAwLCAwLCAwLjc1KTtcbn1cblxuLmpvaW5CdXR0b24gaW1nIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGZpbHRlcjogaW52ZXJ0KDEpO1xuICBtYXJnaW4tbGVmdDogLTFweDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Location } from \"@angular/common\";\nimport { IonicRouteStrategy, ModalController } from '@ionic/angular';\nimport { HomePage } from '../home/home.page';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { JoinTeamPage } from '../join-team/join-team.page';\nimport { LoadingController } from '@ionic/angular';\nimport { get, set } from 'src/app/functions/storage';\nimport { call } from 'src/app/functions/call';\nimport { serialize } from 'src/app/functions/serializer';\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.page.html',\n  styleUrls: ['./player.page.scss'],\n  animations: [\n    trigger(\n      'enterLeft', \n      [\n        transition(\n          ':enter', \n          [\n            style({ transform: \"translateX(-100%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(0px)\"}))\n          ]\n        ),\n        transition(\n          ':leave', \n          [\n            style({ transform: \"translateX(0%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(-100%)\"}))\n          ]\n        )\n      ]\n    ),trigger(\n      'enterRight', \n      [\n        transition(\n          ':enter', \n          [\n            style({ transform: \"translateX(100%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(0px)\"}))\n          ]\n        ),\n        transition(\n          ':leave', \n          [\n            style({ transform: \"translateX(0%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(100%)\"}))\n          ]\n        )\n      ]\n    )\n  ]\n})\nexport class PlayerPage implements OnInit {\n  playerInfo : any = {\n  };\n  state = \"Teams\";\n  invisible = false;\n  teams = [];\n  events : any = [];\n  mustGoBack = false;\n  loaded = false;\n  params : any = {};\n  nextEvent = 0;\n  constructor(private router: Router, private route: ActivatedRoute, private modal: ModalController) {\n    route.queryParams.subscribe(async (queryParams) => {\n      this.params = queryParams;\n      if (queryParams && queryParams.playerId){\n        let filtered = HomePage.players.filter((el)=>{\n          return el.id == queryParams.playerId;\n        })\n        if (filtered.length == 0){\n          this.mustGoBack = true;\n          return;\n        }\n        this.playerInfo = filtered[0];\n        this.playerInfo.name = filtered[0].first + \" \" + filtered[0].last;\n        this.load();\n        \n      }else{\n        this.mustGoBack = true;\n      }\n    })\n  }\n  async ngOnInit() {\n    if (await get(\"player.\" + this.playerInfo.id + \".teams\")){\n      this.teams = await get(\"player.\" + this.playerInfo.id + \".teams\");\n      for (var i = 0; i < this.teams.length; i++){\n        this.teams[i].image = await get(\"image.\" + this.teams[i].id);\n      }\n    }\n    if (await get(\"player.\" + this.playerInfo.id + \".upcomming\")){\n      this.events = await get(\"player.\" + this.playerInfo.id + \".upcomming\");\n    }\n  }\n  async ionViewDidEnter(){\n    if (this.mustGoBack){\n      this.router.navigateByUrl(\"/home\");\n      this.mustGoBack = false;\n    }\n    \n    \n  }\n  async load(){\n    if (this.playerInfo.teams.length != this.teams.length){\n      await this.getTeams();\n      await this.getUpcomming();\n    }\n    this.loaded = true;\n  }\n  async getTeams(){\n    let token = await get(\"token\");\n    let teams = await call(\"http://192.168.2.251:3000/api/getTeams\", {token: token, playerId: this.playerInfo.id});\n    try{\n      teams = JSON.parse(teams);\n      if ((teams as any).error){throw (teams as any).error;};\n      this.teams = teams as any;\n      set(\"player.\" + this.playerInfo.id + \".teams\", this.teams);\n      for (var i = 0; i < this.teams.length; i++){\n        let j = parseInt(\"\" + i);\n        toDataURL(this.teams[j].image, (base64) => {\n          set(\"image.\" + this.teams[j].id, base64 + \"\");\n        });\n      }\n    }catch(err){\n    }\n    \n  }\n  async getUpcomming(){\n    this.nextEvent = 0;\n    let token = await get(\"token\");\n    let events = await call(\"http://192.168.2.251:3000/api/getUpcommingEvents\", {token: token, playerId: this.playerInfo.id, nextEvent: this.nextEvent});\n    try{\n      events = JSON.parse(events);\n      if ((events as any).error){throw (events as any).error;};\n      this.events = events;\n      this.nextEvent += events.length;\n\n      set(\"player.\" + this.playerInfo.id + \".upcomming\", this.events);\n    }catch(err){\n      \n    }\n  }\n  selectTeam(index: Number){\n    this.router.navigateByUrl(`/team/events?teamId=${this.teams[index as any].id}&playerId=${this.playerInfo.id}`);\n  }\n  selectEvent(index: any){\n    HomePage.currentEventInfo = this.events[index.index];\n    let obj = {\n      eventId: this.events[index.index].id,\n      playerId: this.params.playerId,\n      teamId: this.events[index.index].team\n    };\n    if (!this.params.playerId){\n      delete obj.playerId\n    }\n    this.router.navigateByUrl(\"/event?\" + serialize(obj));\n  }\n  changePresence(event){\n    if (this.events[event.index].presence == \"NO\" && event.presence != 2){\n      this.events[event.index].presenceRatio[2] -= 1;\n      this.events[event.index].presenceRatio[event.presence] += 1;\n    }else if (this.events[event.index].presence == \"MAYBE\" && event.presence != 1){\n      this.events[event.index].presenceRatio[1] -= 1;\n      this.events[event.index].presenceRatio[event.presence] += 1;\n    }else if (this.events[event.index].presence == \"YES\" && event.presence != 0){\n      this.events[event.index].presenceRatio[0] -= 1;\n      this.events[event.index].presenceRatio[event.presence] += 1;\n    }\n    let roles = [\"YES\", \"MAYBE\", \"NO\"];\n    this.events[event.index].presence = roles[event.presence];\n  }\n  joinTeam(){\n    this.modal.create({component: JoinTeamPage}).then((modal) => {\n      modal.present();\n      this.invisible = true;\n      modal.onDidDismiss().then((data) => {\n        this.invisible = false;\n        if (data.data && !this.teams.map((x) => x.id).includes(data.data.id)){\n          this.teams.push(data.data)\n        }\n      });\n    });\n  }\n  ionViewWillLeave(){\n    this.loaded = false;\n  }\n  async refresh(event){\n    if (this.state == 'Teams'){\n      await this.getTeams();\n      event.target.complete();\n    }else{\n      await this.getUpcomming();\n      event.target.complete();\n    }\n  }\n  async loadData(event){\n    let token = await get(\"token\");\n    let events = await call(\"http://192.168.2.251:3000/api/getUpcommingEvents\", {token: token, playerId: this.playerInfo.id, nextEvent: this.nextEvent});\n    try{\n      events = JSON.parse(events);\n      if ((events as any).error){throw (events as any).error;};\n      for (var i = 0; i < events.length; i++){\n        this.events.push(events[i]);\n      }\n      this.nextEvent += events.length;\n      event.target.complete();\n    }catch(err){\n      \n    }\n\n  }\n}\n\nfunction toDataURL(url, callback) {\n  let image;\n    image = new Image();\n    image.crossOrigin = 'Anonymous';\n    image.addEventListener('load', function() {\n        let canvas = document.createElement('canvas');\n        let context = canvas.getContext('2d');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        context.drawImage(image, 0, 0);\n        try {\n          callback(canvas.toDataURL('image/png'));\n        } catch (err) {\n            console.error(err)\n        }\n    });\n    image.src = url;\n}"],"sourceRoot":"webpack:///"}