{"version":3,"sources":["webpack:///src/app/pages/shareteam/shareteam.page.html","webpack:///src/app/pages/team/controller/team.page.html","webpack:///src/app/functions/call.ts","webpack:///src/app/functions/serializer.ts","webpack:///src/app/pages/shareteam/shareteam.page.scss","webpack:///src/app/pages/shareteam/shareteam.page.ts","webpack:///src/app/pages/team/controller/team.page.scss","webpack:///src/app/pages/team/controller/team.page.ts"],"names":["call","url","object","Promise","resolve","request","XMLHttpRequest","onreadystatechange","readyState","status","responseText","setTimeout","complete","open","token","console","log","setRequestHeader","send","response","post","upload","imagePath","http","transfer","result","fileTransfer","create","uploadOpts","fileKey","httpMethod","fileName","Date","getTime","Math","random","chunkedMode","headers","auth","then","data","err","logout","serialize","obj","str","key","encodeURIComponent","Share","ShareteamPage","translate","alertController","modal","platform","clipboard","toastController","screensize","code","socialSharing","teamId","teamInfo","id","invitecode","ending","min","width","height","canvas","nativeElement","getBoundingClientRect","dismiss","copy","message","instant","duration","toast","present","share","title","text","dialogTitle","cssClass","header","buttons","role","handler","blah","JSON","parse","error","alert","selector","template","TeamPage","router","route","nativePageTransitions","section","selectedPage","alias","parameters","deleting","loadingObservable","deletingObservable","newMessageObservable","queryParams","subscribe","loadGeneralTeam","playerId","next","i","players","length","image","finishLoading","index","execute","cancel","j","parseInt","toDataURL","base64","includes","userInformation","navigateByUrl","component","options","direction","slowdownfactor","iosdelay","slide","providedIn","callback","Image","crossOrigin","addEventListener","document","createElement","context","getContext","drawImage","src"],"mappings":"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","file":"default~pages-messages-info-info-module~pages-messages-messages-module~pages-new-message-new-message~4f955e32-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"close()\\\">\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{\\\"SHARETEAM.TITLE\\\" | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #container>\\n  <canvas #canvas></canvas>\\n  <p class=\\\"instructions\\\">{{\\\"SHARETEAM.0\\\" | translate}}</p>\\n  <div class=\\\"qrcodeWrapper\\\">\\n    <qr-code  class=\\\"qrcode\\\" [value]=\\\"url\\\" [size]=\\\"this.screensize\\\"></qr-code>\\n  </div>\\n  <p class=\\\"or\\\">or</p>\\n  <ion-input class=\\\"link\\\" expand=\\\"block\\\" [value]=\\\"code\\\" readonly></ion-input>\\n  <div (click)=\\\"copyUrl()\\\" class=\\\"linkOverlay\\\"></div>\\n  <ion-button (click)=\\\"shareUrl()\\\" class=\\\"shareButton\\\" expand=\\\"block\\\">{{\\\"SHARETEAM.2\\\" | translate}}</ion-button>\\n  <ion-button (click)=\\\"inviteUrl()\\\" class=\\\"genButton\\\" expand=\\\"block\\\">{{\\\"SHARETEAM.3\\\" | translate}}</ion-button>\\n</ion-content>\\n\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"navbar-theme\\\">\\n    <ion-buttons slot=\\\"start\\\" *ngIf=\\\"this.selectedPage == 0\\\">\\n      <ion-back-button *ngIf=\\\"!this.deleting\\\" color=\\\"light\\\" defaultHref=\\\"../\\\"></ion-back-button>\\n      <ion-button *ngIf=\\\"this.deleting && this.selectedPage == 0 && (alias.teamInfo.access == 2 || alias.teamInfo.access == 3)\\\" color=\\\"white\\\" (click)=\\\"cancelDeleteEvents()\\\">\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"light\\\">{{\\\"CONTROLLER.\\\" + this.selectedPage | translate}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button *ngIf=\\\"!this.deleting && this.selectedPage == 0 && (alias.teamInfo.access == 2 || alias.teamInfo.access == 3)\\\" color=\\\"white\\\" (click)=\\\"deleteEvents()\\\">\\n        <ion-icon name=\\\"pencil-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button *ngIf=\\\"this.deleting && this.selectedPage == 0 && (alias.teamInfo.access == 2 || alias.teamInfo.access == 3)\\\" color=\\\"white\\\" (click)=\\\"deleteEventsTrash()\\\">\\n        <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button *ngIf=\\\"!this.deleting && this.selectedPage == 0 && (alias.teamInfo.access == 2 || alias.teamInfo.access == 3)\\\" color=\\\"white\\\" (click)=\\\"newEvent()\\\">\\n        <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button *ngIf=\\\"this.selectedPage == 1 && (alias.teamInfo.access == 2 || alias.teamInfo.access == 3)\\\" color=\\\"white\\\" (click)=\\\"shareTeam()\\\">\\n        <ion-icon name=\\\"link-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button *ngIf=\\\"this.selectedPage == 2\\\" color=\\\"white\\\" (click)=\\\"newMessageThread()\\\">\\n        <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n  <ion-tabs #tabs>\\n    <ion-tab-bar slot=\\\"bottom\\\">\\n      <ion-tab-button [tab]=\\\"'events?' + parameters\\\" (click)=\\\"selectPage(0)\\\">\\n        <ion-icon [color]=\\\"(this.selectedPage == 0) ? 'navbar-theme' : ''\\\" name=\\\"baseball-outline\\\"></ion-icon>\\n      </ion-tab-button>\\n      <ion-tab-button [tab]=\\\"'people?' + parameters\\\" (click)=\\\"selectPage(1)\\\">\\n        <ion-icon [color]=\\\"(this.selectedPage == 1) ? 'navbar-theme' : ''\\\" name=\\\"people-outline\\\"></ion-icon>\\n      </ion-tab-button>\\n      <ion-tab-button [tab]=\\\"'mail?' + parameters\\\" (click)=\\\"selectPage(2)\\\">\\n        <ion-icon [color]=\\\"(this.selectedPage == 2) ? 'navbar-theme' : ''\\\" name=\\\"mail-outline\\\"></ion-icon>\\n      </ion-tab-button>\\n      <ion-tab-button [tab]=\\\"'settings?' + parameters\\\" (click)=\\\"selectPage(3)\\\">\\n        <ion-icon [color]=\\\"(this.selectedPage == 3) ? 'navbar-theme' : ''\\\" name=\\\"settings-outline\\\"></ion-icon>\\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-content>\";","import { HttpClient } from '@angular/common/http';\nimport { serialize } from './serializer';\nimport { get, remove } from './storage';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\n\n\nexport async function call(url, object): Promise<string>{\n    let response = await new Promise((resolve) => { \n        let request = new XMLHttpRequest();\n        request.onreadystatechange = function() {\n            if (request.readyState == 4 && request.status == 200){\n                resolve(request.responseText);\n            }else{\n                setTimeout(() => {\n                    resolve(\"error\")\n                }, 1000)\n            }\n        }\n        let complete = url;\n        if (object != {}){\n            complete += \"?\" + serialize(object);\n        }\n\n        request.open(\"GET\", complete);\n        if (object.token){\n            console.log(object.token);\n            \n            request.setRequestHeader(\"Auth\", object.token);\n            delete object.token;\n        }\n        request.send();\n    });\n    return response as string;\n}\nexport async function post(url, object): Promise<string>{\n    let response = await new Promise((resolve) => { \n        let request = new XMLHttpRequest();\n        request.onreadystatechange = function() {\n            if (request.readyState == 4 && request.status == 200){\n                resolve(request.responseText);\n            }\n        }\n        request.open(\"POST\", url + \"?\" + serialize(object));\n\n        if (object.token){\n            request.setRequestHeader(\"auth\", object.token);\n            delete object.token;\n        }\n        request.send(null);\n    });\n    return response as string;\n}\n    \nexport async function upload(url, imagePath, object, http, transfer): Promise<string>{\n    let response = await new Promise(async (resolve) => { \n        if (imagePath == \"\"){\n            let result = await post(url, object);\n            resolve(result)\n        }else{\n            const fileTransfer: FileTransferObject = transfer.create();\n            const uploadOpts: FileUploadOptions = {\n                fileKey: 'image',\n                httpMethod:'POST',\n                fileName: new Date().getTime() + Math.random() + Math.random() + \".jpg\",\n                chunkedMode: false,\n            };\n            if (object.token){\n                uploadOpts.headers = {auth: object.token};\n                delete object.token;\n            }\n            fileTransfer.upload(imagePath, url + \"?\" + serialize(object), uploadOpts).then((data) => {\n                if (data.response){\n                    resolve(data.response);\n                }\n            }, (err) => {\n                resolve(err);\n            });\n        }\n    });\n    return response as string;\n}\n\nexport async function logout(){\n    let token = await get(\"token\");\n    await call(\"http://192.168.2.251:3000/api/logout\", {token: token});\n    await remove(\"token\");\n    await remove(\"role\");\n}","export function serialize(obj){\n    var str = \"\";\n    for (var key in obj) {\n        if (str != \"\") {\n            str += \"&\";\n        }\n        str += key + \"=\" + encodeURIComponent(obj[key]);\n    }\n    return str;\n}","export default \"canvas {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  z-index: -10;\\n  opacity: 0;\\n}\\n\\n.instructions {\\n  font-size: 20px;\\n  margin: 20px 50px 0px 50px;\\n  color: gray;\\n}\\n\\n.qrcodeWrapper {\\n  margin: 20px 50px 0px 50px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n}\\n\\n.or {\\n  text-align: center;\\n  margin: 20px;\\n  color: lightslategray;\\n}\\n\\n.shareButton {\\n  margin: 20px;\\n}\\n\\n.genButton {\\n  margin: 20px;\\n}\\n\\n.link {\\n  border-radius: 8px;\\n  width: auto;\\n  background-color: #f0f0f0;\\n  margin: 20px;\\n  color: gray;\\n  position: relative;\\n}\\n\\n.linkOverlay {\\n  height: 40px;\\n  position: relative;\\n  top: -60px;\\n  margin: 0px 20px -60px 20px;\\n  background-color: none;\\n  width: auto;\\n  z-index: 10;\\n}\\n\\nion-input {\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n}\\n\\nion-input {\\n  pointer-events: all !important;\\n}\\n\\nion-input > * {\\n  pointer-events: all !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZHJpZW50cmFoYW4vRGVza3RvcC9UZWFtY2xhcC9UZWFtQ2xhcC9zcmMvYXBwL3BhZ2VzL3NoYXJldGVhbS9zaGFyZXRlYW0ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zaGFyZXRlYW0vc2hhcmV0ZWFtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtBQ0NKOztBRENBO0VBQ0ksZUFBQTtFQUNBLDBCQUFBO0VBQ0EsV0FBQTtBQ0VKOztBREFBO0VBQ0ksMEJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQ0dKOztBREFBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0VBQ0EscUJBQUE7QUNHSjs7QURBQTtFQUNJLFlBQUE7QUNHSjs7QUREQTtFQUNJLFlBQUE7QUNJSjs7QURGQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0tKOztBREhBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLDJCQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQ01KOztBREhBO0VBQ0kscUJBQUE7RUFDQSxtQkFBQTtBQ01KOztBREhBO0VBQ0ksOEJBQUE7QUNNSjs7QURKQTtFQUNJLDhCQUFBO0FDT0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zaGFyZXRlYW0vc2hhcmV0ZWFtLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImNhbnZhc3tcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHotaW5kZXg6IC0xMDtcbiAgICBvcGFjaXR5OiAwLjA7XG59XG4uaW5zdHJ1Y3Rpb25ze1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBtYXJnaW46IDIwcHggNTBweCAwcHggNTBweDtcbiAgICBjb2xvcjogZ3JheTtcbn1cbi5xcmNvZGVXcmFwcGVye1xuICAgIG1hcmdpbjogMjBweCA1MHB4IDBweCA1MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLm9ye1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW46IDIwcHg7XG4gICAgY29sb3I6IGxpZ2h0c2xhdGVncmF5O1xufVxuXG4uc2hhcmVCdXR0b257XG4gICAgbWFyZ2luOiAyMHB4O1xufVxuLmdlbkJ1dHRvbntcbiAgICBtYXJnaW46IDIwcHg7XG59XG4ubGlua3tcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgICBtYXJnaW46IDIwcHg7XG4gICAgY29sb3I6IGdyYXk7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLmxpbmtPdmVybGF5e1xuICAgIGhlaWdodDogNDBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAtNjBweDtcbiAgICBtYXJnaW46IDBweCAyMHB4IC02MHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbm9uZTtcbiAgICB3aWR0aDogYXV0bztcbiAgICB6LWluZGV4OiAxMDtcbn1cblxuaW9uLWlucHV0e1xuICAgIC0tcGFkZGluZy1zdGFydDogMTBweDtcbiAgICAtLXBhZGRpbmctZW5kOiAxMHB4O1xufVxuXG5pb24taW5wdXR7XG4gICAgcG9pbnRlci1ldmVudHM6YWxsIWltcG9ydGFudDtcbn1cbmlvbi1pbnB1dCA+ICp7XG4gICAgcG9pbnRlci1ldmVudHM6YWxsIWltcG9ydGFudDtcbn0iLCJjYW52YXMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHotaW5kZXg6IC0xMDtcbiAgb3BhY2l0eTogMDtcbn1cblxuLmluc3RydWN0aW9ucyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbWFyZ2luOiAyMHB4IDUwcHggMHB4IDUwcHg7XG4gIGNvbG9yOiBncmF5O1xufVxuXG4ucXJjb2RlV3JhcHBlciB7XG4gIG1hcmdpbjogMjBweCA1MHB4IDBweCA1MHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLm9yIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDIwcHg7XG4gIGNvbG9yOiBsaWdodHNsYXRlZ3JheTtcbn1cblxuLnNoYXJlQnV0dG9uIHtcbiAgbWFyZ2luOiAyMHB4O1xufVxuXG4uZ2VuQnV0dG9uIHtcbiAgbWFyZ2luOiAyMHB4O1xufVxuXG4ubGluayB7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgd2lkdGg6IGF1dG87XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XG4gIG1hcmdpbjogMjBweDtcbiAgY29sb3I6IGdyYXk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmxpbmtPdmVybGF5IHtcbiAgaGVpZ2h0OiA0MHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTYwcHg7XG4gIG1hcmdpbjogMHB4IDIwcHggLTYwcHggMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogbm9uZTtcbiAgd2lkdGg6IGF1dG87XG4gIHotaW5kZXg6IDEwO1xufVxuXG5pb24taW5wdXQge1xuICAtLXBhZGRpbmctc3RhcnQ6IDEwcHg7XG4gIC0tcGFkZGluZy1lbmQ6IDEwcHg7XG59XG5cbmlvbi1pbnB1dCB7XG4gIHBvaW50ZXItZXZlbnRzOiBhbGwgIWltcG9ydGFudDtcbn1cblxuaW9uLWlucHV0ID4gKiB7XG4gIHBvaW50ZXItZXZlbnRzOiBhbGwgIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\nimport { TeamPage } from '../team/controller/team.page';\nimport { serialize } from '../../functions/serializer'\nimport { call } from 'src/app/functions/call';\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\nimport { ToastController } from '@ionic/angular';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { Plugins } from '@capacitor/core';\nimport { get } from 'src/app/functions/storage';\nimport { TranslateService } from '@ngx-translate/core';\nconst { Share } = Plugins;\n@Component({\n  selector: 'app-shareteam',\n  templateUrl: './shareteam.page.html',\n  styleUrls: ['./shareteam.page.scss'],\n})\nexport class ShareteamPage implements OnInit {\n  url = \"\";\n  screensize = 200;\n  code = \"\";\n  socialSharing = new SocialSharing();\n  @ViewChild('canvas') canvas: ElementRef;\n  constructor(private translate: TranslateService, public alertController: AlertController, private modal: ModalController, private platform: Platform, private clipboard: Clipboard, public toastController: ToastController) {\n    let object =  {\n      teamId: TeamPage.teamInfo.id,\n      invitecode: TeamPage.teamInfo.invitecode + \"\"\n    }\n    let ending = serialize(object);\n    this.url = \"http://192.168.2.251:3000/api/joinTeam?\" + ending;\n    this.screensize = Math.min(this.platform.width() - 100, this.platform.height());\n    this.code = TeamPage.teamInfo.id + \"-\" + TeamPage.teamInfo.invitecode;\n  }\n\n  ngOnInit() {\n  }\n  ionViewDidEnter() {\n    this.screensize = (Math.min(this.canvas.nativeElement.getBoundingClientRect().width - 100, this.canvas.nativeElement.getBoundingClientRect().height - 250));\n  }\n  close(){\n    this.modal.dismiss();\n  }\n  async copyUrl(){\n    this.clipboard.copy(this.code);\n    const toast = await this.toastController.create({\n      message: this.translate.instant(\"ALERTS.15.MESSAGE\"),\n      duration: 1000\n    });\n    toast.present();\n  }\n  async shareUrl(){\n    await Share.share({\n      title: this.translate.instant(\"ALERTS.17.TITLE\"),\n      text: this.translate.instant(\"ALERTS.17.MESSAGE\", {code: this.code}),\n      dialogTitle: this.translate.instant(\"ALERTS.17.DIALOG\")\n    });\n  }\n  async inviteUrl(){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: this.translate.instant(\"ALERTS.10.TITLE\"),\n      message: this.translate.instant(\"ALERTS.10.MESSAGE\"),\n      buttons: [\n        {\n          text: this.translate.instant(\"ALERTS.10.BUTTONS.0\"),\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n          text: this.translate.instant(\"ALERTS.10.BUTTONS.1\"),\n          handler: async () => {\n            let token = await get(\"token\");\n            let obj : any = {token: token, id: TeamPage.teamInfo.id};\n            let result : any= await call(\"http://192.168.2.251:3000/api/generateNewInviteCode\", obj);\n            try{\n              result = JSON.parse(result);\n              if (result.error || !result.code){throw result.error;};\n              TeamPage.teamInfo.invitecode = result.code;\n              let object =  {\n                teamId: TeamPage.teamInfo.id,\n                invitecode: result.code + \"\"\n              }\n              let ending = serialize(object);\n              this.url = \"http://192.168.2.251:3000/api/joinTeam?\" + ending;\n              this.code = TeamPage.teamInfo.id + \"-\" + result.code;\n              \n            }catch(error){\n            }\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n    \n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RlYW0vY29udHJvbGxlci90ZWFtLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit, ViewChild, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { call, logout } from 'src/app/functions/call';\nimport { get, set } from 'src/app/functions/storage';\nimport { HomePage } from '../../home/home.page';\nimport { ModalController } from '@ionic/angular';\nimport { ShareteamPage } from '../../shareteam/shareteam.page';\nimport { serialize } from 'src/app/functions/serializer';\nimport { CreateeventPage } from '../../createevent/createevent.page';\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\nimport {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\n@Component({\n  selector: 'app-team',\n  templateUrl: './team.page.html',\n  styleUrls: ['./team.page.scss'],\n})\n@Injectable({\n  providedIn: 'root'\n})\nexport class TeamPage implements OnInit {\n  section = [\"Events\", \"Players\", \"Mail\", \"Settings\"]\n  selectedPage : Number = 0;\n  static teamInfo : any = {};\n  alias = TeamPage;\n  parameters = \"\";\n  deleting = false;\n  private loadingObservable = new Subject<any>();\n  private deletingObservable = new Subject<any>();\n  private newMessageObservable = new Subject<any>();\n  queryParams : any = {};\n  constructor(private router: Router, private route: ActivatedRoute, private modal: ModalController, private nativePageTransitions: NativePageTransitions) {\n    this.route.queryParams.subscribe((queryParams) => {\n      this.parameters = serialize(queryParams);\n      if (queryParams && queryParams.teamId){\n        this.queryParams = queryParams;\n        this.loadGeneralTeam(queryParams.teamId, queryParams.playerId);\n      }\n    })\n    \n  }\n  finishLoading(data?: any) {\n    this.loadingObservable.next(data);\n  }\n\n  getObservable(): Subject<any> {\n    return this.loadingObservable;\n  }\n  getDeletingObservable(): Subject<any> {\n    return this.deletingObservable;\n  }\n  getNewMessageObservable(): Subject<any>{\n    return this.newMessageObservable;\n  }\n  async ngOnInit() {\n    if (await get(\"controller.\" + (this.queryParams.playerId ? this.queryParams.playerId : \"token\") + \".\" + this.queryParams.teamId + \".teamInfo\")){\n      TeamPage.teamInfo = await get(\"controller.\" + (this.queryParams.playerId ? this.queryParams.playerId : \"token\") + \".\" + this.queryParams.teamId + \".teamInfo\");\n      for (var i = 0; i < TeamPage.teamInfo.players.length; i++){\n        TeamPage.teamInfo.players[i].image = await get(\"image.\" + TeamPage.teamInfo.players[i].id);\n      }\n      \n      this.finishLoading()\n    }\n  }\n  selectPage(index: Number){\n    this.selectedPage = index;\n  }\n  deleteEvents(){\n    this.deletingObservable.next({});\n    this.deleting = true;\n  }\n  deleteEventsTrash(){\n    this.deletingObservable.next({execute: true});\n    this.deleting = false;\n  }\n  cancelDeleteEvents(){\n    this.deletingObservable.next({cancel: true});\n    this.deleting = false;\n  }\n  async loadGeneralTeam(teamId, playerId){\n    let token = await get(\"token\");\n    let obj : any = {token: token, id: teamId};\n    if (playerId){\n      obj.playerId = playerId;\n    }\n    let result : any= await call(\"http://192.168.2.251:3000/api/getGeneralTeamInfo\", obj);\n    try{\n      result = JSON.parse(result);\n      if (result.error){throw result.error;};\n      TeamPage.teamInfo = result;\n      \n      TeamPage.teamInfo.playerId = playerId;\n      set(\"controller.\" + (this.queryParams.playerId ? this.queryParams.playerId : \"token\") + \".\" + this.queryParams.teamId + \".teamInfo\", TeamPage.teamInfo);\n      for (var i = 0; i < TeamPage.teamInfo.players.length; i++){\n        let j = parseInt(\"\" + i);\n        toDataURL(TeamPage.teamInfo.players[j].image, (base64) => {\n          set(\"image.\" + TeamPage.teamInfo.players[j].id, base64 + \"\");\n        });\n      }\n      this.finishLoading()\n      \n    }catch(error){\n      error = error + \"\";\n      if (error.includes(\"[993]\")){\n        this.logout();\n      }\n    }\n  }\n  async logout(){\n    await logout();\n    HomePage.userInformation = {};\n    this.router.navigateByUrl(\"/\");\n  }\n  shareTeam(){\n    this.modal.create({component: ShareteamPage}).then((modal)=>{\n      modal.present();\n    }).catch((err)=> {\n\n    })\n  }\n  newEvent(){\n    let options: NativeTransitionOptions = {\n      direction: 'up',\n      duration: 200,\n      slowdownfactor: -1,\n      iosdelay: 100\n    }\n    this.nativePageTransitions.slide(options);\n    this.router.navigateByUrl(\"/createevent?\" + this.parameters);\n  }\n  newMessageThread(){\n    this.newMessageObservable.next();\n  }\n}\n\n\nfunction toDataURL(url, callback) {\n  let image;\n    image = new Image();\n    image.crossOrigin = 'Anonymous';\n    image.addEventListener('load', function() {\n        let canvas = document.createElement('canvas');\n        let context = canvas.getContext('2d');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        context.drawImage(image, 0, 0);\n        try {\n          callback(canvas.toDataURL('image/png'));\n        } catch (err) {\n            console.error(err)\n        }\n    });\n    image.src = url;\n}"]}