{"version":3,"sources":["webpack:///src/app/components/event/event.component.html","webpack:///src/app/pages/team/events/events.page.html","webpack:///src/app/components/event/event.component.scss","webpack:///src/app/components/event/event.component.ts","webpack:///src/app/pages/team/events/events-routing.module.ts","webpack:///src/app/pages/team/events/events.module.ts","webpack:///src/app/pages/team/events/events.page.scss","webpack:///src/app/pages/team/events/events.page.ts"],"names":["EventComponent","selector","template","routes","path","component","EventsPageRoutingModule","imports","forChild","exports","EventsPageModule","declarations","EventsPage","translate","router","route","ControllerObservable","alertController","events","pastEvents","selectedEvents","alias","params","loaded","deleting","state","queryParams","subscribe","getObservable","data","load","getDeletingObservable","cancel","cancelDeleteEvents","execute","deleteSelectedEvents","deleteEvents","index","onEnter","subscription","event","url","startsWith","teamInfo","nextEvent","nextPastEvent","unsubscribe","sort","a","b","timestamp","reloadDeletingSelection","serializeEvents","count","i","length","push","id","create","cssClass","header","instant","message","buttons","text","role","handler","blah","token","teamId","JSON","stringify","refresh","alert","present","placesString","Array","isArray","places","presence","presenceRatio","roles","late","currentEventInfo","obj","eventId","playerId","navigateByUrl","result","parse","error","target","complete","includes","logout","reload","players","userInformation","undefined","past","animations","transform"],"mappings":"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","file":"events-events-module-es5.js","sourcesContent":["export default \"<p>\\n  event works!\\n</p>\\n\";","export default \"<ion-content>\\n  <ion-segment color=\\\"navbar-theme\\\" [(ngModel)]=\\\"state\\\">\\n    <ion-segment-button value=\\\"Futur\\\">\\n      <ion-label>{{\\\"EVENTS.0\\\" | translate}}</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"Past\\\">\\n      <ion-label>{{\\\"EVENTS.1\\\" | translate}}</ion-label>\\n    </ion-segment-button>\\n  </ion-segment> \\n  <div class=\\\"wrapper\\\">\\n    <div class=\\\"cardContainer\\\" [@enterLeft] *ngIf=\\\"this.state == 'Futur'\\\">\\n      <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n        <ion-refresher-content></ion-refresher-content>\\n      </ion-refresher>\\n      <app-upcomming (click)=\\\"selectDeletingEvent(i)\\\" [selectedEvent]=\\\"this.selectedEvents[i]\\\" [deleting]=\\\"deleting\\\" (presenceChanged)=\\\"changePresence($event)\\\" [index]=\\\"i\\\" (selected)=\\\"selectEvent($event)\\\" *ngFor=\\\"let event of events; let i = index\\\" [teamId]=\\\"event.team\\\" [playerId]=\\\"this.params.playerId\\\" [id]=\\\"event.id\\\" [presence]=\\\"event.presence\\\" [late]=\\\"event.late\\\" [place]=\\\"event.places\\\" [name]=\\\"event.name\\\" [date]=\\\"event.date + '/' + event.month + '/' + event.year + '!' + ((event.startTime - event.startTime % 60) / 60) + ':' + ('0' + event.startTime % 60).slice(-2)\\\"></app-upcomming>\\n      <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\"\\n          loadingText=\\\"Loading more data...\\\">\\n        </ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n    </div>\\n    <div class=\\\"cardContainer\\\" [@enterLeft] *ngIf=\\\"this.state == 'Past'\\\">\\n      <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshPast($event)\\\">\\n        <ion-refresher-content></ion-refresher-content>\\n      </ion-refresher>\\n      <app-upcomming (click)=\\\"openPastEvent(i)\\\" (presenceChanged)=\\\"changePresence($event)\\\" [index]=\\\"i\\\" *ngFor=\\\"let pastEvent of pastEvents; let i = index\\\" [teamId]=\\\"pastEvent.team\\\" [playerId]=\\\"this.params.playerId\\\" [id]=\\\"pastEvent.id\\\" [place]=\\\"pastEvent.places\\\" [name]=\\\"pastEvent.name\\\" [date]=\\\"pastEvent.date + '/' + pastEvent.month + '/' + pastEvent.year + '!' + ((pastEvent.startTime - pastEvent.startTime % 60) / 60) + ':' + ('0' + pastEvent.startTime % 60).slice(-2)\\\"></app-upcomming>\\n      <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadDataPast($event)\\\">\\n        <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\"\\n          loadingText=\\\"Loading more data...\\\">\\n        </ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZXZlbnQvZXZlbnQuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-event',\n  templateUrl: './event.component.html',\n  styleUrls: ['./event.component.scss'],\n})\nexport class EventComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventsPage } from './events.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventsPageRoutingModule } from './events-routing.module';\n\nimport { EventsPage } from './events.page';\nimport { EventComponent } from 'src/app/components/event/event.component';\nimport { UpcommingComponent, UpcommingModule } from 'src/app/components/upcomming/upcomming.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventsPageRoutingModule,\n    TranslateModule,\n    UpcommingModule\n  ],\n  declarations: [EventsPage, EventComponent]\n})\nexport class EventsPageModule {}\n","export default \".cardContainer {\\n  position: absolute;\\n  top: 0px;\\n  width: 100%;\\n}\\n\\n.wrapper {\\n  position: relative;\\n  width: 100%;\\n  flex-grow: 1;\\n  background-color: red;\\n}\\n\\nion-content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZHJpZW50cmFoYW4vRGVza3RvcC9UZWFtY2xhcC9UZWFtQ2xhcC9zcmMvYXBwL3BhZ2VzL3RlYW0vZXZlbnRzL2V2ZW50cy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3RlYW0vZXZlbnRzL2V2ZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDQ0o7O0FEQ0E7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EscUJBQUE7QUNFSjs7QURBQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtBQ0dKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGVhbS9ldmVudHMvZXZlbnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDBweDtcbiAgICB3aWR0aDogMTAwJTtcbn1cbi53cmFwcGVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xufVxuaW9uLWNvbnRlbnR7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufSIsIi5jYXJkQ29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi53cmFwcGVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgZmxleC1ncm93OiAxO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn0iXX0= */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport { HomePage } from '../../home/home.page';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { TeamPage } from '../controller/team.page';\nimport {Injectable} from '@angular/core';\nimport {Subject, Subscription} from 'rxjs';\nimport { call, logout } from 'src/app/functions/call';\nimport { get } from 'src/app/functions/storage';\nimport { serialize } from 'src/app/functions/serializer';\nimport { AlertController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\n@Component({\n  selector: 'app-events',\n  templateUrl: './events.page.html',\n  styleUrls: ['./events.page.scss'],\n  animations: [\n    trigger(\n      'enterLeft', \n      [\n        transition(\n          ':enter', \n          [\n            style({ transform: \"translateX(-100%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(0px)\"}))\n          ]\n        ),\n        transition(\n          ':leave', \n          [\n            style({ transform: \"translateX(0%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(-100%)\"}))\n          ]\n        )\n      ]\n    ),trigger(\n      'enterRight', \n      [\n        transition(\n          ':enter', \n          [\n            style({ transform: \"translateX(100%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(0px)\"}))\n          ]\n        ),\n        transition(\n          ':leave', \n          [\n            style({ transform: \"translateX(0%)\"}),\n            animate('0.3s', \n                    style({ transform: \"translateX(100%)\"}))\n          ]\n        )\n      ]\n    )\n  ]\n})\nexport class EventsPage implements OnInit, OnDestroy{\n  events = [];\n  pastEvents = [];\n  selectedEvents = [];\n  subscription: Subscription;\n  alias = TeamPage;\n  params : any = {};\n  loaded = false;\n  deleting = false;\n  state = \"Futur\";\n  constructor(private translate: TranslateService, private router: Router, private route: ActivatedRoute, private ControllerObservable: TeamPage, private alertController: AlertController) {\n    this.route.queryParams.subscribe((queryParams) => {\n      this.params = queryParams\n    });\n    this.ControllerObservable.getObservable().subscribe((data) => {\n      this.loaded = true;\n      this.load();\n    });\n    this.ControllerObservable.getDeletingObservable().subscribe((data) => {\n      if (data.cancel){\n        this.cancelDeleteEvents();\n      }else if (data.execute){\n        this.deleteSelectedEvents();\n        this.deleting = false;\n      }else{\n        this.deleteEvents();\n      }\n    });\n  }\n  selectDeletingEvent(index: any){\n    this.selectedEvents[index] = !this.selectedEvents[index];\n  }\n  ngAfterViewInit() {\n  }\n  cancelDeleteEvents(){\n    this.deleting = false;\n  }\n  deleteEvents(){\n    this.deleting = true;\n  }\n  async ngOnInit(){\n    await this.onEnter();\n\n    this.subscription = this.router.events.subscribe((event) => {\n        if (event instanceof NavigationEnd && event.url && event.url.startsWith('/team/events')) {\n            this.onEnter();\n        }\n    });\n  }\n\n  public async onEnter(){\n    if (this.loaded){\n      this.alias.teamInfo.nextEvent = 0;\n      this.alias.teamInfo.nextPastEvent = 0;\n      this.load();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n  async load(){\n    this.events = this.alias.teamInfo.events;\n    this.pastEvents = this.alias.teamInfo.pastEvents;\n    this.pastEvents.sort((a, b) => {return b.timestamp - a.timestamp});\n    this.reloadDeletingSelection(true);\n    this.serializeEvents();\n    \n  }\n  ionViewDidAppear(){\n  }\n  async deleteSelectedEvents(){\n    let count = 0;\n    let events = [];\n    for (var i = 0; i < this.selectedEvents.length; i ++){\n      if (this.selectedEvents[i]){\n        count ++;\n        events.push(this.events[i].id);\n      }\n    }\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: this.translate.instant(\"ALERTS.11.TITLE\"),\n      message: this.translate.instant(\"ALERTS.11.MESSAGE\", {count: count}),\n      buttons: [\n        {\n          text: this.translate.instant(\"ALERTS.11.BUTTONS.0\"),\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n          text: this.translate.instant(\"ALERTS.11.BUTTONS.1\"),\n          cssClass: 'alertDanger',\n          handler: async () => {\n            try{\n              let token = await get(\"token\");\n              await call(\"http://192.168.2.251:3000/api/deleteEvents\", {\n                token: token,\n                id: this.params.teamId,\n                events: JSON.stringify(events)\n              });\n              this.refresh();\n              this.deleting = false;\n            }catch(error){\n              \n            }\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n  serializeEvents(){\n    for (var i = 0; i < this.events.length; i++){\n      if (!this.events[i].placesString){\n        if (!Array.isArray(this.events[i].places)){\n          this.events[i].places = [];\n        }\n        this.events[i].placesString = JSON.stringify(this.events[i].places);\n      }\n    }\n    for (var i = 0; i < this.pastEvents.length; i++){\n      if (!this.pastEvents[i].placesString){\n        if (!Array.isArray(this.pastEvents[i].places)){\n          this.pastEvents[i].places = [];\n        }\n        this.pastEvents[i].placesString = JSON.stringify(this.pastEvents[i].places);\n      }\n    }\n  }\n  changePresence(event){\n    if (this.events[event.index].presence == \"NO\" && event.presence != 2){\n      this.events[event.index].presenceRatio[2] -= 1;\n      this.events[event.index].presenceRatio[event.presence] += 1;\n    }else if (this.events[event.index].presence == \"MAYBE\" && event.presence != 1){\n      this.events[event.index].presenceRatio[1] -= 1;\n      this.events[event.index].presenceRatio[event.presence] += 1;\n    }else if (this.events[event.index].presence == \"YES\" && event.presence != 0){\n      this.events[event.index].presenceRatio[0] -= 1;\n      this.events[event.index].presenceRatio[event.presence] += 1;\n    }\n    let roles = [\"YES\", \"MAYBE\", \"NO\"];\n    this.events[event.index].presence = roles[event.presence];\n    this.events[event.index].late = event.late;\n  }\n  selectEvent(index: any){\n    HomePage.currentEventInfo = this.events[index.index];\n    let obj = {\n      eventId: this.events[index.index].id,\n      playerId: this.params.playerId,\n      teamId: this.params.teamId\n    };\n    if (!this.params.playerId){\n      delete obj.playerId\n    }\n\n    this.router.navigateByUrl(\"/event?\" + serialize(obj));\n  }\n  async loadData(event){\n    let token = await get(\"token\");\n    let obj : any = {token: token, id: this.alias.teamInfo.id};\n    if (this.alias.teamInfo.playerId){\n      obj.playerId = this.alias.teamInfo.playerId;\n    }\n    obj.nextEvent = this.alias.teamInfo.nextEvent;\n    let result : any= await call(\"http://192.168.2.251:3000/api/getNextEvents\", obj);\n    try{\n      result = JSON.parse(result);\n      if (result.error){throw result.error;};\n      for (const event of result){\n        TeamPage.teamInfo.events.push(event);\n        this.events = TeamPage.teamInfo.events;\n        this.reloadDeletingSelection();\n\n      }\n      TeamPage.teamInfo.nextEvent += result.length;\n      this.reloadDeletingSelection();\n      this.alias = TeamPage;\n      event.target.complete();\n      \n    }catch(error){\n      if (error.includes(\"[993]\")){\n        this.logout();\n      }\n    }\n  }\n  async loadDataPast(event){\n    let token = await get(\"token\");\n    let obj : any = {token: token, id: this.alias.teamInfo.id};\n    if (this.alias.teamInfo.playerId){\n      obj.playerId = this.alias.teamInfo.playerId;\n    }\n    \n    obj.nextPastEvent = this.alias.teamInfo.nextPastEvent;\n    let result : any= await call(\"http://192.168.2.251:3000/api/getNextPastEvents\", obj);\n    try{\n      result = JSON.parse(result);\n      if (result.error){throw result.error;};\n      for (const event of result){\n        TeamPage.teamInfo.pastEvents.push(event);\n        this.pastEvents = TeamPage.teamInfo.pastEvents;\n      }\n      this.pastEvents = this.pastEvents.sort((a, b) => {return b.timestamp - a.timestamp});\n      TeamPage.teamInfo.nextPastEvent += result.length;\n      this.alias = TeamPage;\n      event.target.complete();\n      \n    }catch(error){\n      if (error.includes(\"[993]\")){\n        this.logout();\n      }\n    }\n  }\n  reloadDeletingSelection(reload?){\n    if (reload){\n      this.selectedEvents = [];\n    }\n    for (var i = 0; i < this.events.length; i++){\n      this.selectedEvents.push(false);\n    }\n  }\n  async logout(){\n    await logout();\n    HomePage.players = [];\n    HomePage.userInformation = {};\n    this.events = [];\n    this.reloadDeletingSelection(true);\n    this.router.navigateByUrl(\"/\");\n  }\n  async refresh(event?){\n    TeamPage.teamInfo.events = [];\n    this.alias = TeamPage;\n    TeamPage.teamInfo.nextEvent = 0;\n    let token = await get(\"token\");\n    let obj : any = {token: token, id: this.alias.teamInfo.id};\n    if (this.alias.teamInfo.playerId){\n      obj.playerId = this.alias.teamInfo.playerId;\n    }\n    obj.nextEvent = this.alias.teamInfo.nextEvent;\n    let result : any= await call(\"http://192.168.2.251:3000/api/getNextEvents\", obj);\n    try{\n      result = JSON.parse(result);\n      if (result.error){throw result.error;};\n      for (const event of result){\n        TeamPage.teamInfo.events.push(event);\n        this.events = TeamPage.teamInfo.events;\n        this.reloadDeletingSelection(true);\n      }\n      TeamPage.teamInfo.nextEvent += result.length;\n      this.events = TeamPage.teamInfo.events;\n      this.reloadDeletingSelection(true);\n      \n      this.alias = TeamPage;\n      if (event.target != undefined){\n        event.target.complete();\n      }\n    }catch(error){\n      if (error.includes(\"[993]\")){\n        this.logout();\n      }\n    }\n  }\n  async refreshPast(event?){\n    TeamPage.teamInfo.pastEvents = [];\n    this.alias = TeamPage;\n    TeamPage.teamInfo.nextPastEvent = 0;\n    let token = await get(\"token\");\n    let obj : any = {token: token, id: this.alias.teamInfo.id};\n    if (this.alias.teamInfo.playerId){\n      obj.playerId = this.alias.teamInfo.playerId;\n    }\n    obj.nextPastEvent = this.alias.teamInfo.nextPastEvent;\n    let result : any = await call(\"http://192.168.2.251:3000/api/getNextPastEvents\", obj);\n    try{\n      result = JSON.parse(result);\n      if (result.error){throw result.error;};\n      for (const event of result){\n        TeamPage.teamInfo.pastEvents.push(event);\n        this.pastEvents = TeamPage.teamInfo.pastEvents;\n      }\n      this.pastEvents = this.pastEvents.sort((a, b) => {return b.timestamp - a.timestamp});\n      TeamPage.teamInfo.nextPastEvent += result.length;\n      this.pastEvents = TeamPage.teamInfo.pastEvents;\n      this.alias = TeamPage;\n      if (event.target != undefined){\n        event.target.complete();\n      }\n    }catch(error){\n      if (error.includes(\"[993]\")){\n        this.logout();\n      }\n    }\n  }\n  openPastEvent(index: any){\n    HomePage.currentEventInfo = this.pastEvents[index];\n    let obj = {\n      eventId: this.pastEvents[index].id,\n      playerId: this.params.playerId,\n      teamId: this.params.teamId,\n      past: true\n    };\n    if (!this.params.playerId){\n      delete obj.playerId\n    }\n\n    this.router.navigateByUrl(\"/event?\" + serialize(obj));\n  }\n}\n"]}